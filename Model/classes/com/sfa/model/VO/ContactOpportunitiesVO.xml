<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="ContactOpportunitiesVO"
  Version="12.1.2.66.68"
  InheritPersonalization="merge"
  BindingStyle="OracleName"
  CustomQuery="true"
  PageIterMode="Full">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="com.sfa.model.VO.ContactOpportunitiesVO_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <SQLQuery><![CDATA[SELECT Opportunities.OPPORTUNITY_NAME,          
       Opportunities.OPPURTUNITY_ID,          
       Opportunities.OBJECT_VERSION_NUMBER,          
       Opportunities.ESTIMATED_DURATION,          
       Opportunities.CUST_ACCOUNT_ID,          
       Opportunities.BEST_CASE_REVENUE,          
       Opportunities.BUDGET_AMOUNT,          
       Opportunities.CLOSE_DATE,          
       Opportunities.DECISION_LEVEL,          
       Opportunities.IS_BUDGETED,          
       Opportunities.PRIMARY_CONTACT_ID,          
       Opportunities.REVENUE_AMOUNT,          
       Opportunities.REVENUE_CURRENCY,          
       Opportunities.RISK_LEVEL,          
       Opportunities.SALES_CHANNEL,          
       Opportunities.SALES_METHOD,          
       Opportunities.SALES_STAGE,          
       Opportunities.WIN_PROBABILITY,          
       Opportunities.WORST_CASE_REVENUE,          
       OpportunityTeam.CONTACT_ID  
       --OpportunityTeam.OPPORTUNITY_TEAM_ID    
      FROM  OPPORTUNITIES Opportunities, OPPORTUNITY_TEAM OpportunityTeam, CUSTOMER_CONTACTS Contacts      
WHERE Opportunities.OPPURTUNITY_ID = OpportunityTeam.OPPORTUNITY_ID and Contacts.CONTACT_ID =  OpportunityTeam.CONTACT_ID 
AND Opportunities.DELETE_FLAG = 'N' 
 
  
        
UNION        
        
SELECT Opportunities.OPPORTUNITY_NAME,          
       Opportunities.OPPURTUNITY_ID,          
       Opportunities.OBJECT_VERSION_NUMBER,          
       Opportunities.ESTIMATED_DURATION,          
       Opportunities.CUST_ACCOUNT_ID,          
       Opportunities.BEST_CASE_REVENUE,          
       Opportunities.BUDGET_AMOUNT,          
       Opportunities.CLOSE_DATE,          
       Opportunities.DECISION_LEVEL,          
       Opportunities.IS_BUDGETED,          
       Opportunities.PRIMARY_CONTACT_ID,          
       Opportunities.REVENUE_AMOUNT,          
       Opportunities.REVENUE_CURRENCY,          
       Opportunities.RISK_LEVEL,          
       Opportunities.SALES_CHANNEL,          
       Opportunities.SALES_METHOD,          
       Opportunities.SALES_STAGE,          
       Opportunities.WIN_PROBABILITY,          
       Opportunities.WORST_CASE_REVENUE,          
       Opportunities.PRIMARY_CONTACT_ID AS CONTACT_ID   
       --NULL AS OPPORTUNITY_TEAM_ID  
      FROM  OPPORTUNITIES Opportunities 
      WHERE Opportunities.DELETE_FLAG = 'N']]></SQLQuery>
  <EntityUsage
    Name="Opportunities"
    Entity="com.sfa.model.entity.Opportunities"/>
  <EntityUsage
    Name="OpportunityTeam"
    Entity="com.sfa.model.entity.OpportunityTeam"
    Association="com.sfa.model.association.OppurtunityTeamFk1Assoc"
    AssociationEnd="com.sfa.model.association.OppurtunityTeamFk1Assoc.OpportunityTeam"
    SourceUsage="com.sfa.model.VO.ContactOpportunitiesVO.Opportunities"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false"
    JoinType="INNER JOIN">
    <DesignTime>
      <AttrArray Name="_srcAttributes">
        <Item Value="com.sfa.model.entity.Opportunities.OppurtunityId"/>
      </AttrArray>
      <AttrArray Name="_dstAttributes">
        <Item Value="com.sfa.model.entity.OpportunityTeam.OpportunityId"/>
      </AttrArray>
    </DesignTime>
  </EntityUsage>
  <ViewAttribute
    Name="OpportunityName"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="OpportunityName"
    EntityUsage="Opportunities"
    AliasName="OPPORTUNITY_NAME"/>
  <ViewAttribute
    Name="OppurtunityId"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="OppurtunityId"
    EntityUsage="Opportunities"
    AliasName="OPPURTUNITY_ID"/>
  <ViewAttribute
    Name="ObjectVersionNumber"
    PrecisionRule="true"
    EntityAttrName="ObjectVersionNumber"
    EntityUsage="Opportunities"
    AliasName="OBJECT_VERSION_NUMBER"/>
  <ViewAttribute
    Name="EstimatedDuration"
    PrecisionRule="true"
    EntityAttrName="EstimatedDuration"
    EntityUsage="Opportunities"
    AliasName="ESTIMATED_DURATION"/>
  <ViewAttribute
    Name="CustAccountId"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="CustAccountId"
    EntityUsage="Opportunities"
    AliasName="CUST_ACCOUNT_ID"/>
  <ViewAttribute
    Name="BestCaseRevenue"
    PrecisionRule="true"
    EntityAttrName="BestCaseRevenue"
    EntityUsage="Opportunities"
    AliasName="BEST_CASE_REVENUE"/>
  <ViewAttribute
    Name="BudgetAmount"
    PrecisionRule="true"
    EntityAttrName="BudgetAmount"
    EntityUsage="Opportunities"
    AliasName="BUDGET_AMOUNT"/>
  <ViewAttribute
    Name="CloseDate"
    PrecisionRule="true"
    EntityAttrName="CloseDate"
    EntityUsage="Opportunities"
    AliasName="CLOSE_DATE"/>
  <ViewAttribute
    Name="DecisionLevel"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="DecisionLevel"
    EntityUsage="Opportunities"
    AliasName="DECISION_LEVEL"/>
  <ViewAttribute
    Name="IsBudgeted"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="IsBudgeted"
    EntityUsage="Opportunities"
    AliasName="IS_BUDGETED"/>
  <ViewAttribute
    Name="PrimaryContactId"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="PrimaryContactId"
    EntityUsage="Opportunities"
    AliasName="PRIMARY_CONTACT_ID"/>
  <ViewAttribute
    Name="RevenueAmount"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="RevenueAmount"
    EntityUsage="Opportunities"
    AliasName="REVENUE_AMOUNT"/>
  <ViewAttribute
    Name="RevenueCurrency"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="RevenueCurrency"
    EntityUsage="Opportunities"
    AliasName="REVENUE_CURRENCY"/>
  <ViewAttribute
    Name="RiskLevel"
    PrecisionRule="true"
    EntityAttrName="RiskLevel"
    EntityUsage="Opportunities"
    AliasName="RISK_LEVEL"/>
  <ViewAttribute
    Name="SalesChannel"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="SalesChannel"
    EntityUsage="Opportunities"
    AliasName="SALES_CHANNEL"/>
  <ViewAttribute
    Name="SalesMethod"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="SalesMethod"
    EntityUsage="Opportunities"
    AliasName="SALES_METHOD"/>
  <ViewAttribute
    Name="SalesStage"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="SalesStage"
    EntityUsage="Opportunities"
    AliasName="SALES_STAGE"/>
  <ViewAttribute
    Name="WinProbability"
    PrecisionRule="true"
    EntityAttrName="WinProbability"
    EntityUsage="Opportunities"
    AliasName="WIN_PROBABILITY"/>
  <ViewAttribute
    Name="WorstCaseRevenue"
    PrecisionRule="true"
    EntityAttrName="WorstCaseRevenue"
    EntityUsage="Opportunities"
    AliasName="WORST_CASE_REVENUE"/>
  <ViewAttribute
    Name="ContactId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="CONTACT_ID"
    Expression="CONTACT_ID"
    SQLType="NUMERIC"/>
  <AttrArray Name="KeyAttributes">
    <Item Value="OppurtunityId"/>
  </AttrArray>
  <ViewLinkAccessor
    Name="CustomerContactsView"
    ViewLink="com.sfa.model.viewlink.ContactOpportunitiesVL"
    Type="oracle.jbo.Row"
    Reversed="true"
    IsUpdateable="false"/>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="com.sfa.model.ModelBundle"/>
  </ResourceBundle>
</ViewObject>
